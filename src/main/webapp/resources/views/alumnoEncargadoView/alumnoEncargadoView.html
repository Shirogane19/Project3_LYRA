<!-- Page JS Plugins CSS -->
<link rel="stylesheet" href="resources/assets/js/plugins/datatables/jquery.dataTables.min.css">
<link rel="stylesheet" href="resources/assets/js/plugins/select2/select2.min.css">
<link rel="stylesheet" href="resources/assets/js/plugins/select2/select2-bootstrap.min.css">
<link rel="stylesheet" id="css-main" href="resources/assets/css/oneui.min.css">

<div class="block" ng-show="onPoint">

    <div class="block-header">
        <h3 class="block-title">Lista de Dependientes</h3>
    </div>

    <div class="block-content" >

        <!-- DataTables init on table by adding .js-dataTable-full class, functionality initialized in js/pages/base_tables_datatables.js -->
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th ng-hide="true"></th>
                    <th class="text-center"></th>
                    <th>Nombre</th>
                    <th class="hidden-xs">Sección</th>
                    <th class="hidden-xs" style="width: 15%;">Estado</th>
                    <th class="text-center" style="width: 10%;">Acciones</th>
                </tr>
            </thead>
            <tbody >

                <tr ng-repeat="a in alumnos" u-index="$index">
                    <td class="text-center" ng-bind="a.idAlumno" ng-hide="true"></td>
                    <td class="text-center">{{$index+1}}</td>
                    <td class="font-w600" ng-bind="(a.nombre) +' '+ (a.apellido1) +' '+ (a.apellido2)"></td>
                    <td class="hidden-xs" ng-bind="(a.seccion.nombreSeccion)"></td>

                    <td class="hidden-xs"   ng-if="a.activeAl == true">
                    <span class="label label-success">Activo</span>
                    </td>

                    <td class="hidden-xs"   ng-if="a.activeAl == false">
                    <span class="label label-danger">Inactivo</span>
                    </td>

                    <td class="text-center">
                        <div class="btn-group">

                            <button class="btn btn-xs btn-default" type="button"  title="Ver sección" ng-click="showSeccion(a.seccion)"><i class="fa fa-eye"></i></button>
                            <button class="btn btn-xs btn-default" type="button" title="Historial medico" ng-click="showHistorial(a)"><i class="fa fa-heartbeat "></i></button>

                        </div>
                    </td>
                </tr>

            </tbody>
            
        </table>
    </div>
    <div class="text-center" ng-show="noData">
            <p class="text-muted push-15-t text-danger">El muchacho no se encuentra asignado a una sección</p>
        </div>
<!-- END Dynamic Table Full -->
</div>

<div class="row" ng-show="onPointWatchSeccion">
    <div class="block-content">
        <!-- Block Tabs Animated Fade -->
        <div class="block">
            <ul class="nav nav-tabs" data-toggle="tabs">
                <li class="active">
                    <a href="#btabs-animated-fade-home">Estudiantes</a>
                </li>
                <li>
                    <a href="#btabs-animated-fade-profile">Profesores</a>
                </li>
                <li class="pull-right">
                    <a href="#btabs-animated-fade-settings" data-toggle="tooltip" ng-click="close()"><i class="si si-close"></i></a>
                </li>
            </ul>
            <div class="block-content tab-content">
                <div class="tab-pane fade in active" id="btabs-animated-fade-home">
                    <h4 class="font-w300 push-15">Sección {{seccionName}}</h4>
                    
                    <div class="block-content" >
                        <table class="js-table-sections table table-hover" ng-repeat="a in AlumnosAsignados">

                            <tbody class="js-table-sections-header" >
                                <tr>
                                    <td class="text-center" style="width: 30px;">
                                        <i class="fa fa-angle-right"></i>
                                    </td>
                                    <td class="font-w600">{{a.nombre}} {{a.apellido1}} {{a.apellido2}} </td>
                                </tr>
                            </tbody>
                            <tbody>
                                <tr>
                                    <td class="text-center" style="width: 0px;"></td>
                                    <td class="font-w600 text-success">
                                        <strong>Encargados:</strong>
                                            <i ng-repeat="e in a.usuarios">{{e.nombre}} {{e.apellido}}<span ng-show=" ! $last ">, </span></i>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                    </div>


                </div>
                <div class="tab-pane fade" id="btabs-animated-fade-profile">
                    <h4 class="font-w300 push-15">Sección {{seccionName}}</h4>
                    
                    <!-- <div class="col-xs-12" ng-repeat="p in ProfesAsignados" value="{{p.idUsuario}}">
                           {{p.nombre}} {{p.apellido}}
                    </div> -->

                    <div class="block-content" >
                            <!--
                            Separate your table content with multiple tbody sections. Add one row and add the class .js-table-sections-header to a
                            tbody section to make it clickable. It will then toggle the next tbody section which can have multiple rows. Eg:

                            <tbody class="js-table-sections-header">One row</tbody>
                            <tbody>Multiple rows</tbody>
                            <tbody class="js-table-sections-header">One row</tbody>
                            <tbody>Multiple rows</tbody>
                            <tbody class="js-table-sections-header">One row</tbody>
                            <tbody>Multiple rows</tbody>

                            You can also add the class .open in your tbody.js-table-sections-header to make the next tbody section visible by default
                            -->
                            <table class="js-table-sections table table-hover" ng-repeat="p in ProfesAsignados">

                                <tbody class="js-table-sections-header" >
                                    <tr>
                                        <td class="text-center" style="width: 30px;">
                                            <i class="fa fa-angle-right"></i>
                                        </td>
                                        <td class="font-w600">{{p.nombre}} {{p.apellido}}</td>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <td class="text-center" style="width: 0px;"></td>
                                        <td class="font-w600 text-success"><strong>Correo:</strong> {{p.email}} <br>
                                            <strong>Materias que imparte:</strong>
                                                <i ng-repeat="m in p.materias">{{m.nombre}}<span ng-show=" ! $last ">, </span></i>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>



                </div><!---->
            </div>
            <br> 
        </div>

    </div>
</div>
<!-- END Block Tabs Content Animation -->


